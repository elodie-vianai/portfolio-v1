{% extends 'Layout/gestion.html.twig' %}

{% block title %}
    Admin Portfolio - Utilisateurs
{% endblock %}

{% block stylesheets %}
    <link rel="stylesheet" href="/css/header.css">
    <link rel="stylesheet" href="/css/CRUD.css">
{% endblock %}

{% block header %}
    {{ include("Layout/adminHeader.html.twig") }}
{% endblock %}

{% block titrePage %}
    <h1>Gestion des utilisateurs</h1>
{% endblock %}

{% block boutonAjouter %}{% endblock %}

{% block thead %}
    <th>nom d'utilisateur</th>
    <th>email</th>
    <th>r√¥le</th>
{% endblock %}

{% block tbody %}
    {% if tabError.error in tabError %}
        <script type="text/javascript">window.alert ("{{ tabError.error }}");</script>
    {% endif %}
    {% for user in users %}
        <tr>
            <td>{{ user.username }}</td>
            <td>{{ user.email }}</td>
            <td>{{ user.roles }}</td>
            <td>
                <a class="btn btn-danger" href="/admin/gestiondesutilisateurs/supprimer/{{ user.id }}">Supprimer</a>
                {% if 'admin' in user.roles %}
                    <a class="btn btn-success" href="/admin/gestiondesutilisateurs/modifier?id={{ user.id }}">Modifier</a>
                {% endif %}
            </td>
        </tr>
    {% endfor %}
{% endblock %}

{% block footer %}
    {{ include("Layout/footer.html.twig") }}
{% endblock %}